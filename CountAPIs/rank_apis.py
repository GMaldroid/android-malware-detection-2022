import json


for file_name in ['Adware_600', 'Banking_600', 'Benign_600', 'Riskware_600', 'SMS_600']:
    only_apis_in_category = json.load(open(f"./output/Only_APIs_in_{file_name}.json", "r"))
    apis = []
    
    for key in only_apis_in_category.keys():
        apis.append({
            'api_name': key,
            'call_num': only_apis_in_category[key]['call_num'],
            'app_num': only_apis_in_category[key]['app_num'],
        })
    
    apis.sort(key=lambda x: x["app_num"], reverse=True)
    open(f"./output/Sorted_Only_APIs_in_{file_name}.json", "w").write(json.dumps(apis, indent=4))
